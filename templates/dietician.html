{% extends "layout.html" %}

{% block content %}
<!-- This block extends the "layout.html" template and defines the content for the dietician page. -->

<div class="dietician-data col-md-12 content-section">
    <!-- This div contains user data and their targets. -->
    <table title="User Data" class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Height (in cm)</th>
                <th>Weight (in Kg)</th>
                <th>Target Weight (in Kg)</th>
                <th>BMI</th>
                <th>Calorie Data</th>
                <th>Diet Plan</th>
            </tr>
        </thead>
        <tbody>
            {% for row in user_data %}
            <!-- Iterate through the 'user_data' list. -->
            <tr>
                <td>{{row["user_data"]["name"]}}</td>
                <td>{{row["height"]}}</td>
                <td>{{row["weight"]}}</td>
                <td>{{row["target_weight"]}}</td>
                <td>{{ ((row["weight"]|float)/((row["height"]|float)*(row["height"]|float))*10000)|round(2, 'floor') }}</td>
                <td><a class="btn btn-success" href="{{ url_for('calorie_data', user_email = row['email']) }}">Calorie Data</a></td>
                <td><a href="{{ url_for('diet_plan', user_email = row['email'], name = row['user_data']['name']) }}" class="btn btn-primary">Create Diet
                        Plan</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}